<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U FORNU | Restaurant Traditionnel √† Calcatoggio</title>
    <meta name="description" content="D√©couvrez U FORNU d'Antony, restaurant traditionnel corse √† Calcatoggio. Sp√©cialit√©s corses, pizzas au feu de bois, produits locaux entre Ajaccio et Sagone.">
    <meta name="keywords" content="U Fornu, Restaurant Calcatoggio, Pizzeria Corse, Restaurant Corse, Sp√©cialit√©s corses, Pizza au feu de bois, Ajaccio, Sagone, Calcatoggio, meilleurs restaurants Corse, charcuterie corse">
    <link rel="canonical" href="http://ufornu-pizzeriacalcatoggio.com">
    <meta property="og:title" content="U FORNU | Restaurant Traditionnel √† Calcatoggio">
    <meta property="og:description" content="Sp√©cialit√©s corses et pizzas au feu de bois √† U FORNU, entre Ajaccio et Sagone. Produits locaux et ambiance conviviale.">
    <meta property="og:type" content="restaurant.restaurant">
    <meta property="og:url" content="http://ufornu-pizzeriacalcatoggio.com">
    <meta property="og:image" content="URL_DE_VOTRE_IMAGE">
    <meta property="og:locale" content="fr_FR">
    <meta name="robots" content="index, follow">
    
    <!-- R√©f√©rences des biblioth√®ques React -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Restaurant",
  "name": "U FORNU",
  "image": "https://ufornu-pizzeriacalcatoggio.com/images/IMG_0784.jpeg",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Calcatoggio Village",
    "addressLocality": "Calcatoggio",
    "addressRegion": "Corse-du-Sud",
    "postalCode": "20111",
    "addressCountry": "FR"
  },
  "telephone": "+33621146462",
  "priceRange": "‚Ç¨‚Ç¨",
  "servesCuisine": "Pizza, Corse",
  "url": "https://ufornu-pizzeriacalcatoggio.com",
  "openingHours": "Tu-Su 18:30‚Äì22:00",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.7",
    "reviewCount": "381"
  }
}
</script>
    
    <style>
        /* Animation de pulsation pour le bouton de chat */
@keyframes pulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
    }
}

/* Classe pour activer l'animation */
.pulse {
    animation: pulse 1s ease-in-out 3; /* L'animation dure 1 seconde et se r√©p√®te 3 fois */
}
        :root {
            --color-wall: #f5e6c3;
            --color-shutter: #4a3428;
            --color-accent: #e63946;
            --color-text: #2b2b2b;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--color-wall);
            color: var(--color-text);
            line-height: 1.6;
        }
        
        .hero {
    background: linear-gradient(rgba(245, 230, 195, 0.8), rgba(245, 230, 195, 0.8)), url('/api/placeholder/1200/600');
    background-size: cover;
    background-position: center;
    color: white;
    text-align: center;
    padding: 40px 20px; /* R√©duit la hauteur pour remonter le texte */
}

.hero h1 {
    font-size: 4em; /* Taille plus grande */
    font-style: italic; /* Italique */
    color: #e63946; /* Rouge */
    text-decoration: underline; /* Soulign√© */
    text-underline-offset: 10px; /* D√©calage du soulignement */
    text-decoration-color: #4a3428; /* Couleur marron */
    margin-bottom: 20px; /* Espace entre le titre et le sous-titre */
}

.hero h2 {
    margin-bottom: 80px; /* Augmente l'espace entre le texte et le bouton */
}

.cta-button {
    display: inline-block;
    background: var(--color-accent);
    color: white;
    padding: 15px 30px;
    border-radius: 30px;
    text-decoration: none;
    margin-top: 20px;
    margin-bottom: 80px; /* Ajuste cette valeur pour plus ou moins d'espace */
    transition: background 0.3s;
}

.content {
    margin-top: 100px; /* Augmente l'espace entre le bouton et le bloc blanc */
}

.content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}
        
        .section {
    background: white;
    border-radius: 15px;
    padding: 15px 20px; /* R√©duction pour moins d'espace interne */
    margin: 20px 0; /* R√©duction de l'espace externe */
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
        
        .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
    margin-top: 30px;
}

        .card {
    background: white;
    padding: 10px 20px; /* R√©duit l'espace pour moins de scrolling */
    border-radius: 15px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    border-left: 4px solid var(--color-accent);
}

h1, h2, h3 {
    color: var(--color-shutter);
}
        
        h1, h2, h3 {
            color: var(--color-shutter);
        }
        
        .cta-button {
            display: inline-block;
            background: var(--color-accent);
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            text-decoration: none;
            margin-top: 20px;
            transition: background 0.3s;
        }
        
        .cta-button:hover {
            background: #c92834;
        }
        
        .chat-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--color-accent);
            color: white;
            padding: 15px;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 1000;
            font-size: 24px;
        }
        
        .chat-container {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: none;
            z-index: 1000;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            .chat-container {
                width: calc(100% - 40px);
                height: 60vh;
                bottom: 90px;
            }
        }

        .message-animation {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .suggestion-chip {
            display: inline-block;
            padding: 8px 16px;
            margin: 4px;
            background: #f0f0f0;
            border-radius: 20px;
            cursor: pointer;
            border: none;
            font-size: 14px;
            transition: all 0.2s;
        }

        .suggestion-chip:hover {
            background: #e0e0e0;
        }

        .chat-link {
            color: #0066cc;
            text-decoration: none;
        }

        .chat-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="hero">
    <h1>U FORNU</h1>
    <h2>Pizzeria au Four √† Bois Traditionnel<br>et Restaurant Corse</h2>
    <a href="https://g.co/kgs/oGUEuZV" target="_blank" rel="noopener noreferrer" class="cta-button">R√©server une table</a>
</div>

    <div class="content">
        <section class="section" style="border-left: 4px solid #4a3428;"> <!-- Ajout du style ici -->
    <h2>Notre Restaurant √† Calcatoggio</h2>
    <p>Entre Ajaccio et Sagone, Antony vous accueille dans son restaurant U FORNU. D√©couvrez nos sp√©cialit√©s corses, nos pizzas au feu de bois et notre s√©lection de charcuterie locale.</p>
</section>

        <div class="grid">
    <div class="card">
        <h3>üçï Pizzas au Feu de Bois</h3>
        <p>Des pizzas cuites dans notre four traditionnel, pr√©par√©es avec des produits locaux de qualit√©.</p>
    </div>
    <div class="card">
        <h3>ü•ì Charcuterie Corse</h3>
        <p>Une s√©lection des meilleures charcuteries corses artisanales de la r√©gion.</p>
    </div>
    <div class="card">
        <h3>üç∑ Vins et Liqueurs</h3>
        <p>Une carte des vins corses et nos liqueurs maison √† d√©couvrir.</p>
    </div>
    <div class="card">
        <h3>üç≤ Plats Corse</h3>
        <p>Le Mardi, c‚Äôest soupe Corse maison.<br>
           Le Jeudi, c‚Äôest veau Corse aux olives.</p>
        <p style="font-size: 0.9em; color: #555;">NB. R√©servation conseill√©e la veille.</p>
    </div>
        <div class="card" style="border-left: 4px solid #4B0082;">
        <h3>üéâ √âv√©nements en haute saison</h3>
        <p>Soir√©e Corse : groupe de chanteur Corses, menu unique √† prix imbattable (entr√©e aux tomates, charcuterie corses, veau Corse aux olives et p√¢tes, dessert maison).</p>
        <p style="font-size: 0.85em; color: #555;">
            En g√©n√©ral, de fin juillet √† fin ao√ªt ont lieu deux √† trois soir√©es sp√©ciales (Soir√©e Corse et soir√©e DJ).<br>
            Nous vous conseillons de r√©server au moins 15 jours √† l‚Äôavance et de vous renseigner aupr√®s du chef pour les dates exactes.
        </p>
    </div>
    <div class="card" style="border-left: 4px solid #FFD700;"> <!-- Liser√© jaune √©clatant -->
        <h3>üåÑ Emplacement et Attrait</h3>
        <p>Profitez de votre passage en Corse pour d√©couvrir notre pizzeria U FORNU, nich√©e entre Ajaccio et les splendides calanques de Piana. Une √©tape incontournable pour les voyageurs et aventuriers en qu√™te de saveurs authentiques, dans un cadre chaleureux avec vue sur les golfes de Sagone et Carg√®se. Parfait pour une pause gourmande apr√®s une journ√©e d'exploration.</p>
    </div>
    <style>
        .event-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -4px; /* Ajustez la position si n√©cessaire */
            height: 100%;
            width: 4px; /* √âpaisseur du liser√© rouge */
            background: red; /* Couleur du liser√© */
            border-radius: 15px 0 0 15px; /* Arrondi du liser√© */
        }

        .event-card::after {
            content: '';
            position: absolute;
            bottom: 0; /* Ajuste pour que √ßa couvre l'angle en bas */
            left: -4px; /* Ajustez cette valeur pour le recouvrement */
            height: 4px; /* Ajustez l'√©paisseur */
            width: 100%; /* Largeur pour couvrir toute la largeur du bloc */
            background: red; /* Couleur du liser√© */
            border-radius: 0 0 15px 15px; /* Arrondi en bas */
        }
    </style>
</div>
</div>

        <section class="section" style="border-left: 4px solid #d3d3d3;">
    <p><strong>Note :</strong> Le paiement par carte de cr√©dit n'est pas accept√©.</p>
    <p><em>Credit card payments are not accepted.</em></p>
</section>

        <div id="chat-button" class="chat-button">üí¨</div>
        <div id="chat" class="chat-container"></div>
    </div>

    <script>
// Base de connaissances √©tendue
const KnowledgeBase = {
    contact: {
        telephone: "+33621146462",
        horaires_appel: "√† partir de 17h",
        adresse: "Calcatoggio village",
        maps_url: "https://maps.app.goo.gl/QQiBsitH5hcmQViTA",
        reservation_url: "https://g.co/kgs/oGUEuZV"
    },
    horaires: {
        ouverture: "18h30",
        fermeture: "22h00",
        jours: "du mardi au dimanche",
        periode: "de fin mai au 11 novembre",
        evenements_speciaux: {
            mardi: "soupe corse traditionnelle",
            jeudi: "Veau Corse"
        }
    }, // ‚Üê Ici, ajouter une accolade fermante pour l'objet horaires
    langues: {
        commun: {
            salutations: {
                fr: ['bonjour', 'bonsoir', 'salut', 'coucou', 'hey'],
                en: ['hello', 'hi', 'hey', 'good morning', 'good evening'],
                de: ['hallo', 'guten tag', 'guten abend'],
                it: ['ciao', 'buongiorno', 'buonasera']
            },
            au_revoir: {
                fr: ['au revoir', 'bye', 'ciao', 'a bientot', '√† bient√¥t', 'adieu'],
                en: ['goodbye', 'bye', 'see you', 'farewell'],
                de: ['tsch√ºss', 'auf wiedersehen', 'ciao'],
                it: ['arrivederci', 'ciao', 'addio']
            }
        },
        concepts: {
            reservation: {
                fr: ['r√©sa', 'r√©servation', 'reservation', 'reserver', 'r√©server', 'table', 'place', 'booker', 'reservat'],
                en: ['book', 'booking', 'reserve', 'reservation', 'table'],
                de: ['reservierung', 'tisch', 'platz', 'buchen'],
                it: ['prenotazione', 'prenotare', 'tavolo', 'posto']
            },
            menu: {
                fr: ['carte', 'menu', 'plats', 'manger', 'cuisiner', 'nourriture', 'specialites', 'sp√©cialit√©s', 'pizza'],
                en: ['menu', 'card', 'food', 'dishes', 'specialties', 'pizza'],
                de: ['speisekarte', 'men√º', 'essen', 'pizza'],
                it: ['menu', 'carta', 'piatti', 'mangiare', 'pizza']
            },
            horaires: {
                fr: ['horaire', 'heure', 'ouvert', 'ferm√©', 'ferme', 'ouverture', 'fermeture', 'quand'],
                en: ['hours', 'time', 'open', 'closed', 'opening', 'closing', 'when'],
                de: ['√∂ffnungszeiten', 'zeit', 'offen', 'geschlossen'],
                it: ['orari', 'ora', 'aperto', 'chiuso']
            },
            localisation: {
                fr: ['o√π', 'adresse', 'place', 'endroit', 'route', 'chemin', 'acc√®s', 'trouver', 'emplacement', 'situe'],
                en: ['where', 'address', 'location', 'place', 'find', 'way'],
                de: ['wo', 'adresse', 'ort', 'standort'],
                it: ['dove', 'indirizzo', 'posto', 'luogo']
            },
            prix: {
                fr: ['prix', 'tarif', 'cout', 'co√ªt', 'combien', 'cher'],
                en: ['price', 'cost', 'how much', 'expensive'],
                de: ['preis', 'kosten', 'wie viel'],
                it: ['prezzo', 'costo', 'quanto']
            }
        }
    }
};

// Fonction am√©lior√©e pour d√©tecter la langue
function detectLanguage(text) {
    const normalizedText = normalizeText(text);
    const langScores = {
        fr: 0,
        en: 0,
        de: 0,
        it: 0
    };

    // V√©rification des salutations et au revoir
    for (const type of ['salutations', 'au_revoir']) {
        for (const [lang, words] of Object.entries(KnowledgeBase.langues.commun[type])) {
            if (words.some(word => normalizedText.includes(word))) {
                langScores[lang] += 2; // Plus de poids pour les salutations
            }
        }
    }

    // V√©rification des concepts sp√©cifiques
for (const concept of Object.values(KnowledgeBase.langues.concepts)) {
    for (const [lang, words] of Object.entries(concept)) {
        if (words.some(word => normalizedText.includes(normalizeText(word)))) {
            langScores[lang] += 1;
        }
    }
}

// Ajout de mots-cl√©s suppl√©mentaires pour la d√©tection de la langue
const additionalKeywords = {
    en: ['hours of operation', 'book a table', 'takeaway', 'vegetarian options', 'phone number', 'address'],
    de: ['√∂ffnungszeiten', 'reservierung', 'mitnehmen', 'vegetarische optionen', 'telefonnummer', 'standort'],
    it: ['orari di apertura', 'prenotazione', 'asporto', 'opzioni vegetariane', 'telefono', 'indirizzo']
};

for (const [lang, keywords] of Object.entries(additionalKeywords)) {
    if (keywords.some(keyword => normalizedText.includes(keyword))) {
        langScores[lang] += 1;
    }
}

    // D√©terminer la langue dominante
    const maxScore = Math.max(...Object.values(langScores));
    const dominantLang = Object.entries(langScores).find(([_, score]) => score === maxScore)?.[0];

    return dominantLang || 'fr'; // Fran√ßais par d√©faut
}

// Fonction pour normaliser le texte
function normalizeText(text) {
    return text.toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-z0-9\s]/g, "")
        .trim();
}

// Fonction pour identifier les intentions de l'utilisateur
function identifyUserIntent(text) {
    const normalizedText = normalizeText(text);
    const intents = new Set();

    // V√©rifier chaque concept
    for (const [concept, translations] of Object.entries(KnowledgeBase.langues.concepts)) {
        for (const words of Object.values(translations)) {
            if (words.some(word => normalizedText.includes(normalizeText(word)))) {
                intents.add(concept);
            }
        }
    }

    // D√©tection des √©v√©nements sp√©ciaux
    if (normalizedText.includes('mardi') || normalizedText.includes('tuesday')) {
        intents.add('evenement_mardi');
    }
    if (normalizedText.includes('jeudi') || normalizedText.includes('thursday')) {
        intents.add('evenement_jeudi');
    }

    return Array.from(intents);
}

// Syst√®me de r√©ponses enrichi
const responses = {
    default: `Bonghjornu ! üåû Je suis l√† pour vous renseigner sur U FORNU. Comment puis-je vous aider ?

‚Ä¢ Voir notre carte de pizzas et sp√©cialit√©s üçï
‚Ä¢ Horaires et √©v√©nements sp√©ciaux üìÖ
‚Ä¢ R√©servation et contact ‚òéÔ∏è
‚Ä¢ Nos produits locaux üè∫`,

    english_default: `Hello! üåû I'm here to help you with information about U FORNU. 
Please contact Antony directly for English assistance:
üì± ${KnowledgeBase.contact.telephone}

He will be happy to help you in English! üòä`,

    german_default: `Hallo! üåû F√ºr Informationen auf Deutsch, kontaktieren Sie bitte Antony direkt:
üì± ${KnowledgeBase.contact.telephone}`,

    italian_default: `Ciao! üåû Per informazioni in italiano, contatta direttamente Antony:
üì± ${KnowledgeBase.contact.telephone}`,

    carte_pizzas: `üìã Voici nos pizzas pr√©par√©es par Antony :

BASE TOMATE :
‚Ä¢ Marguerite (tomate, fromage) - 9,50‚Ç¨
‚Ä¢ Jambon Fromage - 10,00‚Ç¨
‚Ä¢ Romaine (tomate, anchois, c√¢pres) - 10,00‚Ç¨
‚Ä¢ Napolitaine (tomate, anchois, c√¢pres, fromage) - 10,80‚Ç¨
‚Ä¢ Reine (tomate, jambon champignons, fromage) - 11,00‚Ç¨
‚Ä¢ Chorizo (tomate, chorizo, champignons, fromage) - 11,50‚Ç¨
‚Ä¢ Roi (tomate, jambon, champignons, ≈ìuf, fromage) - 11,50‚Ç¨
‚Ä¢ Compl√®te (tomate, jambon, champignons, anchois, ≈ìuf, fromage) - 11,80‚Ç¨
‚Ä¢ Italiana (tomate, pepperoni, champignons, fromage) - 12,00‚Ç¨
‚Ä¢ Corsica (tomate, jambon, champignons, ≈ìuf, figatellu, fromage) - 12,60‚Ç¨
‚Ä¢ Special Fornu (tomate, jambon de Parme, champignons, roquette, fromage) - 13,00‚Ç¨

BASE CR√àME FRA√éCHE :
‚Ä¢ Reine Blanche (cr√®me fra√Æche, jambon, champignons, fromage) - 11,50‚Ç¨
‚Ä¢ Dame Blanche (cr√®me fra√Æche, jambon, champignons, ≈ìuf, fromage) - 11,80‚Ç¨
‚Ä¢ Poulet Curry (cr√®me fra√Æche, poulet, champignons, fromage, curry) - 12,00‚Ç¨`,

    evenements_speciaux: `üéâ Nos √©v√©nements sp√©ciaux de la semaine :

‚Ä¢ Mardi soir : Soupe corse traditionnelle ü•£
‚Ä¢ Jeudi soir : Le Veau corse üåü

R√©servation conseill√©e le matin pour ces soir√©es !`,

    localisation: `üìç O√π nous trouver :

‚Ä¢ Adresse : ${KnowledgeBase.contact.adresse}
‚Ä¢ Entre Ajaccio (25 min) et Sagone (10 min)

üöó Parking gratuit sur place
üìû En cas de difficult√© : ${KnowledgeBase.contact.telephone} (${KnowledgeBase.contact.horaires_appel})`,

    horaires: `‚è∞ Nos horaires :

‚Ä¢ Ouvert ${KnowledgeBase.horaires.jours}
‚Ä¢ Service : ${KnowledgeBase.horaires.ouverture} - ${KnowledgeBase.horaires.fermeture}
‚Ä¢ P√©riode : ${KnowledgeBase.horaires.periode}

üìû R√©servation conseill√©e : ${KnowledgeBase.contact.telephone}
üåê R√©servez en ligne : ${KnowledgeBase.contact.reservation_url}`,

    reservation: `Pour r√©server une table chez U FORNU :

üìû Appelez Antony au ${KnowledgeBase.contact.telephone} (${KnowledgeBase.contact.horaires_appel})
üåê Ou r√©servez via Google : ${KnowledgeBase.contact.reservation_url}

‚ÑπÔ∏è Conseil : La r√©servation le matin est recommand√©e, surtout en haute saison !`,

    incomprehension: `D√©sol√©, je ne suis pas s√ªr de bien comprendre... ü§î

Je peux vous renseigner sur :
‚Ä¢ Nos pizzas et la carte
‚Ä¢ Les horaires et √©v√©nements sp√©ciaux
‚Ä¢ L'adresse et l'acc√®s
‚Ä¢ R√©servations et contact

Ou pr√©f√©rez-vous parler directement √† Antony ? üìû`,

    au_revoir: `Merci de votre int√©r√™t pour U FORNU ! üôè

Antony et son √©quipe seront ravis de vous accueillir.

√Ä dopu ! üëã`,

    inactivity: "Y a-t-il autre chose que je puisse faire pour vous ? üòä"
};

// Fonction principale de r√©ponse am√©lior√©e
function getBotResponse(input) {
    if (!input.trim()) return responses.default;

    // V√©rification sp√©cifique pour "soir√©e" et "soir√©es"
    if (input.toLowerCase().includes("soir√©e") || input.toLowerCase().includes("soir√©es")) {
        return `En plein c≈ìur de la haute saison se d√©roulent deux √† trois soir√©es magiques : soir√©es chant Corses, soir√©e DJ, et leurs afters‚Ä¶ Contactez le chef pour plus d‚Äôinfos üë®üèª‚Äçüç≥üìû+33621146462`;
    }

    const normalizedInput = normalizeText(input);

    // R√©ponse automatique pour les mots-cl√©s de contact
    if (normalizedInput.includes("contact") || 
        normalizedInput.includes("antony") || 
        normalizedInput.includes("tel") || 
        normalizedInput.includes("phone") || 
        normalizedInput.includes("t√©l√©phone") || 
        normalizedInput.includes("telefone") || 
        normalizedInput.includes("anto")) {
        return "üìû Contactez Antony au +33621146462 (√† partir de 17h)";
    }
    
// R√©ponse automatique pour les produits locaux et charcuterie
if (normalizedInput.includes("produits") || 
    normalizedInput.includes("charcuterie") || 
    normalizedInput.includes("confitures") || 
    normalizedInput.includes("liqueurs") || 
    normalizedInput.includes("confiture") || 
    normalizedInput.includes("liqueur") || 
    normalizedInput.includes("coppa") || 
    normalizedInput.includes("lonzo") || 
    normalizedInput.includes("livraison") || 
    normalizedInput.includes("commande") || 
    normalizedInput.includes("colis") || 
    normalizedInput.includes("vin") || 
    normalizedInput.includes("beer") ||
    normalizedInput.includes("bi√®re") ||
    normalizedInput.includes("wine") || 
    normalizedInput.includes("liquor") || 
    normalizedInput.includes("alcool")) {
    return `Venez d√©guster nos produits Corses authentiques. Le chef vous propose vins et bi√®res Corses, confitures maison, liqueurs maison, charcuteries Corses (lonzo, coppa, saucisson).
    <br><small>Vous pouvez commander des pizzas, charcuteries et breuvages par t√©l√©phone et venir r√©cup√©rer votre commande sur place. Vous √™tes reparti sur le continent ? Je compatis‚Ä¶ Mais bonne nouvelle, vous pouvez appeler Antonyüë®üèª‚Äçüç≥ pour passer commande et il vous enverra les produits par la poste.
    üìû+33621146462</small>`;
}

    // R√©ponse automatique pour Biere
if (normalizedInput.includes("bi√®re") || 
    normalizedInput.includes("Bi√®res") ||
    normalizedInput.includes("beer") ||
    normalizedInput.includes("heineken")) {
    return `Nous proposons des bi√®res Corses Pietra ou des bi√®res Heineken.`;
}
    
    // R√©ponse automatique pour la localisation
if (normalizedInput.includes("lieu") || 
    normalizedInput.includes("location") || 
    normalizedInput.includes("localisation") || 
    normalizedInput.includes("where") || 
    normalizedInput.includes("o√π") ||
    normalizedInput.includes("standort") ||
    normalizedInput.includes("comment venir") ||
    normalizedInput.includes("adress") || 
    normalizedInput.includes("adresse")) {
    return `üìç O√π nous trouver :
    <br>‚Ä¢ Adresse : ${KnowledgeBase.contact.adresse}
    <br>‚Ä¢ Entre Ajaccio (25 min) et Sagone (10 min)
    <br>üöó Parking gratuit sur place
    <br>üìû En cas de difficult√© : ${KnowledgeBase.contact.telephone} (${KnowledgeBase.contact.horaires_appel})`;
}
    
// R√©ponse automatique pour les √©v√©nements et soir√©es
if (normalizedInput.includes("√©v√©nements") || 
    normalizedInput.includes("√©v√®nement") || 
    normalizedInput.includes("√©v√®nements") || 
    normalizedInput.includes("event") || 
    normalizedInput.includes("events") || 
    normalizedInput.includes("soir√©e") || 
    normalizedInput.includes("soir√©es") || 
    normalizedInput.includes("night") || 
    normalizedInput.includes("nights") || 
    normalizedInput.includes("bal") || 
    normalizedInput.includes("bals") || 
    normalizedInput.includes("f√™te") || 
    normalizedInput.includes("f√™tes") || 
    normalizedInput.includes("evenement") || 
    normalizedInput.includes("evenements")) {
    return `En plein c≈ìur de la haute saison se d√©roulent deux √† trois soir√©es magiques : soir√©es chant Corses, soir√©e DJ, et leurs afters‚Ä¶ Contactez le chef pour plus d‚Äôinfos üë®üèª‚Äçüç≥üìû+33621146462`;
}
    
// R√©ponse automatique pour les insultes
if (normalizedInput.includes("connard") || 
    normalizedInput.includes("pd") || 
    normalizedInput.includes("fou") ||
    normalizedInput.includes("abruti") ||
    normalizedInput.includes("gay") ||
    normalizedInput.includes("encul√©") || 
    normalizedInput.includes("pute") || 
    normalizedInput.includes("salope") || 
    normalizedInput.includes("con") || 
    normalizedInput.includes("sodomie") || 
    normalizedInput.includes("sodomiser") || 
    normalizedInput.includes("gogol") ||
    normalizedInput.includes("mongolien") ||
    normalizedInput.includes("enculer") || 
    normalizedInput.includes("encule") || 
    normalizedInput.includes("puta") || 
    normalizedInput.includes("gogole") || 
    normalizedInput.includes("d√©bile") || 
    normalizedInput.includes("idiot") || 
    normalizedInput.includes("cabron")) {
    return `ü™¨Votre adresse IP mobile et votre num√©ro de t√©l√©phone ont √©t√© enregistr√©s.`;
}

// R√©ponse automatique pour les moyens de paiements
if (normalizedInput.includes("moyens de paiements") || 
    normalizedInput.includes("tickets restaurant") || 
    normalizedInput.includes("esp√®ces") || 
    normalizedInput.includes("cash") || 
    normalizedInput.includes("carte bleu") || 
    normalizedInput.includes("carte bancaire") || 
    normalizedInput.includes("ch√®que") || 
    normalizedInput.includes("Karte") ||
    normalizedInput.includes("pay") || 
    normalizedInput.includes("payement") || 
    normalizedInput.includes("paye") || 
    normalizedInput.includes("payer") || 
    normalizedInput.includes("cr√©dit card") || 
    normalizedInput.includes("paiement") || 
    normalizedInput.includes("paiements")) {
    return `‚ö†Ô∏è NO CR√âDIT CARD. Paiements accept√©s : esp√®ces/cash, ch√®que, ou ticket restaurants.`;
}

// R√©ponse automatique pour les cigarettes
if (normalizedInput.includes("cigarette") || 
    normalizedInput.includes("cigarettes") || 
    normalizedInput.includes("cigaret") || 
    normalizedInput.includes("cigare") ||
    normalizedInput.includes("cigarets") || 
    normalizedInput.includes("tabac")) {
    return `La maison ne vend pas de cigarettes. ¬´ Le tabac c‚Äôest tabou, on en viendra tous √† bout ¬ª (pour ceux qui ont la r√©f).`;
}
    
// R√©ponse automatique pour les mots-cl√©s li√©s aux po√®mes
if (normalizedInput.includes("poeme") || 
    normalizedInput.includes("po√®me") || 
    normalizedInput.includes("poesie") || 
    normalizedInput.includes("po√©sie")) {
    return `<small>Dans le village perch√© de Calcatoggio, U Fornu brille comme un joyau, o√π Antony, ma√Ætre des lieux, fa√ßonne avec passion des pizzas au feu de bois, r√©chauffant les c≈ìurs des voyageurs de passage. Loin des tumultes modernes, ce havre de convivialit√© offre une exp√©rience authentique, r√©serv√©e aux intelligences biologiques humaines.</small>`;
}
    
// R√©ponse automatique pour les pinsutti
if (normalizedInput.includes("pinsuttu") || 
    normalizedInput.includes("pinsutu") || 
    normalizedInput.includes("pinsuntu") || 
    normalizedInput.includes("pinzutu") || 
    normalizedInput.includes("pinzzutu") || 
    normalizedInput.includes("pinzuttu")) {
    return `Gaulois, vient te d√©lecter dans la taverne U Fornu et n‚Äôoublie pas d‚Äôapporter ta bienveillance.`;
}

// R√©ponse automatique pour l'accessibilit√© handicap
if (normalizedInput.includes("handicap") || 
    normalizedInput.includes("handicapped") || 
    normalizedInput.includes("handicap√©") || 
    normalizedInput.includes("handicap√©s") || 
    normalizedInput.includes("fauteuil") || 
    normalizedInput.includes("fauteuil roulant") || 
    normalizedInput.includes("PMR") || 
    normalizedInput.includes("mobilit√© r√©duite")) {
    return `Le restaurant et sa terrasse (en terre dure) sont au m√™me niveau de la route. Donc accessibles aux personnes √† mobilit√© r√©duite, n√©anmoins les toilettes ne sont malheureusement pas adapt√©es. Elles sont standards, la porte d‚Äôentr√©e est standard.`;
}
    
// R√©ponse automatique pour Se Garer
if (normalizedInput.includes("se garer") || 
    normalizedInput.includes("stationnement") ||
    normalizedInput.includes("stationner") ||
    normalizedInput.includes("parking")) {
    return `<small>Il y a toujours des places dans le village pour se garer, par exemple sur la route, juste avant le restaurant.</small>`;
}
    
// R√©ponse automatique pour la soupe et le veau
if (normalizedInput.includes("soupe") || 
    normalizedInput.includes("veau") || 
    normalizedInput.includes("mardi") || 
    normalizedInput.includes("jeudi") || 
    normalizedInput.includes("soup") || 
    normalizedInput.includes("viande") || 
    normalizedInput.includes("meat")) {
    return `La soupe c‚Äôest le mardi soir, le veau Corse aux olives le jeudi soir.
    <br>Je vous conseille de r√©server la veille ou plus t√¥t.`;
}

// R√©ponse automatique pour pine d‚Äôhu√Ætre
if (normalizedInput.includes("pine d‚Äôhu√Ætre") || 
    normalizedInput.includes("pine") ||
    normalizedInput.includes("hu√Ætre") ||
    normalizedInput.includes("pine d‚Äôhuitre")) {
    return `Pine d‚Äôhu√Ætre, aka fr√®re Pons, aka couille d‚Äôours, de son vrai pr√©nom Benjamin, est un chouette gars, c‚Äôest le cousin du Chef Antony.`;
}

    // R√©ponse automatique pour No√´l
if (normalizedInput.includes("noel") || 
    normalizedInput.includes("No√´l") ||
    normalizedInput.includes("christmas") ||
    normalizedInput.includes("Weihnachten")) {
    return `Commandez votre Colis Corse pour No√´lüéÑ. Un cadeau authentique √† faire √† vos √™tres chers ou √† vous m√™me. Id√©al aussi pour vos repas de f√™tes de fin d'ann√©e. Contactez le Chef Antony.`;
}

    // R√©ponse automatique pour BAIL
if (normalizedInput.includes("bail") || 
    normalizedInput.includes("Bail")) {
    return `Le bail commercial d'Antony pour U Fornu est un sujet de curiosit√©s et convoitises. Aucune information ne sera donn√©e √† ce sujet. Je vous renvoie √† sa devise comme meilleure r√©ponse pour le moment...`;
}

// R√©ponse automatique pour Lilou
if (normalizedInput.includes("lilou")) {
    return `Lilou Dallas Multipass. Entre ombre et lumi√®re et caract√®re, elle n‚Äôest pas le 5√®me √©l√©ment, mais est une serveuse hors pair, v√©ritable atout pour U Fornu.`;
}

// R√©ponse automatique pour les desserts et la m√®re du chef Antony
if (normalizedInput.includes("dessert") || 
    normalizedInput.includes("m√®re d‚Äôantony") || 
    normalizedInput.includes("m√®re antony") || 
    normalizedInput.includes("m√®re d‚Äôanto") || 
    normalizedInput.includes("m√®re d‚Äôanthony") || 
    normalizedInput.includes("annie") || 
    normalizedInput.includes("annie delfini")) {
    return `Annie Delfini (la m√®re du chef Antony) est une cuisini√®re hors pair, et artiste mosa√Øque. Les desserts de U fornu sont souvent fait par elle. Et on la remercie pour ces recettes maison naturellement d√©licieuses.`;
}

// R√©ponse automatique pour Robot
if (normalizedInput.includes("robot") || 
    normalizedInput.includes("IA")) {
    return `<small>Mes r√©ponses sont limit√©es, je ne suis ni un humain, ni une intelligence artificielle, juste un robot pr√©programm√©.</small>`;
}   
    
// R√©ponse automatique pour A dopu
if (normalizedInput.includes("√† dopu") || 
    normalizedInput.includes("a dopu") || 
    normalizedInput.includes("dopu") || 
    normalizedInput.includes("√† bient√¥t") || 
    normalizedInput.includes("√† bientot")) {
    return `A dopu !`;
}

// R√©ponse automatique pour le chat
if (normalizedInput.includes("chat")) {
    return `Antony √† un chat sauvage noirüêà‚Äç‚¨õ, insaisissable, discret, il n‚Äôa pas de nom. Seul le chef parvient √† la caresser (et d‚Äôautres rares √¢mes au c≈ìur pur selon les soirs, mais cela reste rare).`;
}
    
// R√©ponse automatique pour Calcatoggio
if (normalizedInput.includes("Calcatoggio") || 
    normalizedInput.includes("calcatoggio")) {
    return `<small>Calcatoggio, village pittoresque de Corse-du-Sud √† 20 km au nord d‚ÄôAjaccio, perch√© √† 300 m d‚Äôaltitude, offre une vue sur le golfe de la Liscia et plus de dix kilom√®tres de c√¥tes. Entour√© de maquis et d‚Äôoliviers, il poss√®de un riche patrimoine, comme l‚Äô√©glise de l‚ÄôAnnonciation et des tours g√©noises (notamment celle d‚ÄôAnc√¥ne). Des sentiers de randonn√©e m√®nent √† des points de vue panoramiques. La commune comprend des hameaux tels que Solajo, Orcino, et La Liscia. Le village poss√®de un lavoir, un monument aux morts, et une fontaine sur la place centrale du village, la place du pont/place des platanes (o√π jadis des bals de l√©gendes avaient lieu, ainsi que la remise des prix du marathon). Calcatoggio s√©duit les amateurs de nature, culture et gastronomie, offrant un cadre paisible et authentique pour se ressourcer.</small>`;
}
    
// R√©ponse automatique pour la famille Paccini
if (normalizedInput.includes("nicolas paccini") || 
    normalizedInput.includes("marc-antoine paccini") || 
    normalizedInput.includes("pascal paccini") || 
    normalizedInput.includes("paccini") || 
    normalizedInput.includes("marc")) {
    return `Puisse la famille Paccini prosp√©rer aujourd‚Äôhui et au travers les si√®cles prochains.
    <br><small>√Ä Mimi, Antoine, Marc, Pierre, Nicolas, Marc-Antoine, Pascal, Gr√©gory, Paul-Antoine, Emilie, Noha, Orso, Dani, et tous leurs descendants.</small>`;
}

// R√©ponse automatique pour la devise d‚ÄôAntony
if (normalizedInput.includes("devise antony") || 
    normalizedInput.includes("devise") || 
    normalizedInput.includes("ma devise") || 
    normalizedInput.includes("devise du chef") || 
    normalizedInput.includes("devise chef")) {
    return `¬´ Je suis l√† aujourd‚Äôhui, je serai l√† demain, rien ne me fera reculer, sur le chemin que j‚Äôai choisi ¬ª Antony Delfini.`;
}

    const language = detectLanguage(input); // Mettez cette ligne apr√®s le bloc `if` pour √©viter tout probl√®me.
    const intents = identifyUserIntent(input);
    let response = '';

    // Gestion des langues √©trang√®res
    if (language !== 'fr') {
        switch (language) {
            case 'en': return responses.english_default;
            case 'de': return responses.german_default;
            case 'it': return responses.italian_default;
            default: return responses.english_default;
        }
    }

    // D√©tection des au revoir
    if (KnowledgeBase.langues.commun.au_revoir.fr.some(word => 
        normalizedInput.includes(normalizeText(word)))) {
        return responses.au_revoir;
    }

    // Traitement des intentions multiples
    if (intents.length > 0) {
        const responsesParts = [];

        intents.forEach(intent => {
            switch (intent) {
                case 'menu':
                    responsesParts.push(responses.carte_pizzas);
                    break;
                case 'reservation':
                    responsesParts.push(responses.reservation);
                    break;
                case 'horaires':
                    responsesParts.push(responses.horaires);
                    break;
                case 'localisation':
                    responsesParts.push(responses.localisation);
                    break;
                case 'evenement_mardi':
                    responsesParts.push("ü•£ Le mardi soir, nous servons notre d√©licieuse soupe corse traditionnelle !");
                    break;
                case 'evenement_jeudi':
                    responsesParts.push("üåü Le jeudi soir, c'est le Veau Corse !");
                    break;
            }
        });

        if (responsesParts.length > 0) {
            response = responsesParts.join('\n\n');
            // Ajout des √©v√©nements sp√©ciaux si pertinent
            if (intents.includes('menu') || intents.includes('horaires')) {
                response += '\n\n' + responses.evenements_speciaux;
            }
        }
    }

    // Si aucune intention n'est d√©tect√©e
    return response || responses.incomprehension;
}

// Composant React du ChatBot
function ChatBot() {
    const [messages, setMessages] = React.useState([{
        text: responses.default,
        sender: 'bot'
    }]);
    const [input, setInput] = React.useState('');
    const [isTyping, setIsTyping] = React.useState(false);
    const messagesEndRef = React.useRef(null);

    const scrollToBottom = () => {
        messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
    };

    React.useEffect(() => {
        scrollToBottom();
    }, [messages]);

    // Gestionnaire d'inactivit√©
    React.useEffect(() => {
        let inactivityTimer;
        const resetInactivityTimer = () => {
            clearTimeout(inactivityTimer);
            inactivityTimer = setTimeout(() => {
                if (messages.length > 1 && messages[messages.length - 1].sender === 'user') {
                    setMessages(prev => [...prev, {
                        text: responses.inactivity,
                        sender: 'bot'
                    }]);
                }
            }, 300000); // 5 minutes
        };

        resetInactivityTimer();
        return () => clearTimeout(inactivityTimer);
    }, [messages]);

    const handleSubmit = (e) => {
        e.preventDefault();
        if (!input.trim()) return;

        const userMessage = input;
        setMessages(prev => [...prev, { text: userMessage, sender: 'user' }]);
        setInput('');
        setIsTyping(true);

        // Simulation d'un d√©lai de r√©ponse naturel
        setTimeout(() => {
            const botResponse = getBotResponse(userMessage);
            setMessages(prev => [...prev, { text: botResponse, sender: 'bot' }]);
            setIsTyping(false);
        }, Math.random() * 1000 + 500); // D√©lai al√©atoire entre 500ms et 1500ms
    };

    return React.createElement('div', { 
        style: { height: '100%', display: 'flex', flexDirection: 'column' }
    },
        React.createElement('div', { 
            style: { 
                background: 'var(--color-shutter)',
                color: 'white',
                padding: '15px',
                textAlign: 'center',
                borderRadius: '15px 15px 0 0',
                position: 'relative'
            }
        }, 
            "üí¨ U FORNU - Questions & R√©servations",
            React.createElement('button', {
                onClick: () => document.getElementById('chat').style.display = 'none',
                style: {
                    position: 'absolute',
                    top: '5px',
                    right: '10px',
                    background: 'transparent',
                    color: 'white',
                    border: 'none',
                    fontSize: '18px',
                    cursor: 'pointer'
                }
            }, "‚úï")
        ),

        React.createElement('div', { 
            style: { 
                flex: 1,
                overflow: 'auto',
                padding: '15px',
                background: '#f8f9fa'
            }
        },
            messages.map((msg, idx) => 
                React.createElement('div', { 
                    key: idx,
                    className: 'message-animation',
                    style: {
                        textAlign: msg.sender === 'user' ? 'right' : 'left',
                        margin: '8px'
                    }
                },
                React.createElement('span', {
                    dangerouslySetInnerHTML: { __html: msg.sender === 'bot' ? 
                        formatText(msg.text) : msg.text },
                    style: {
                        background: msg.sender === 'user' ? 
                            'var(--color-accent)' : 'white',
                        color: msg.sender === 'user' ? 'white' : 'var(--color-text)',
                        padding: '10px 15px',
                        borderRadius: '20px',
                        display: 'inline-block',
                        maxWidth: '80%',
                        boxShadow: '0 2px 5px rgba(0,0,0,0.1)',
                        whiteSpace: 'pre-wrap'
                    }
                })
            )),
            isTyping && React.createElement('div', { 
                className: 'message-animation',
                style: {
                    textAlign: 'left',
                    margin: '8px'
                }
            }, 
                React.createElement('span', {
                    style: {
                        background: 'white',
                        padding: '10px 15px',
                        borderRadius: '20px',
                        display: 'inline-block',
                        boxShadow: '0 2px 5px rgba(0,0,0,0.1)',
                    }
                }, "‚úçÔ∏è En train d'√©crire...")
            ),
            React.createElement('div', { ref: messagesEndRef })
        ),

        React.createElement('form', { 
            onSubmit: handleSubmit,
            style: { 
                padding: '15px',
                background: 'white',
                borderTop: '1px solid #eee'
            }
        },
            React.createElement('div', { style: { display: 'flex', gap: '10px' } },
                React.createElement('input', {
                    value: input,
                    onChange: (e) => setInput(e.target.value),
                    placeholder: "Votre question...",
                    style: {
                        flex: 1,
                        padding: '10px',
                        borderRadius: '25px',
                        border: '1px solid #ddd',
                        outline: 'none'
                    }
                }),
                React.createElement('button', {
                    type: 'submit',
                    style: {
                        padding: '10px 20px',
                        borderRadius: '25px',
                        border: 'none',
                        background: 'var(--color-accent)',
                        color: 'white',
                        cursor: 'pointer'
                    }
                }, "Envoyer")
            )
        )
    );
}

// Fonction pour rendre les liens cliquables
function formatText(text) {
    return text
        .replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank" class="chat-link">$1</a>')
        .replace(/(\+\d{11})/g, '<a href="tel:$1" class="chat-link">$1</a>');
}

// Initialisation du chat
        document.addEventListener('DOMContentLoaded', () => {
            const chatButton = document.getElementById('chat-button');
            const chatContainer = document.getElementById('chat');
            let chatVisible = false;

            chatButton.addEventListener('click', () => {
                chatVisible = !chatVisible;
                chatContainer.style.display = chatVisible ? 'block' : 'none';
            });

            ReactDOM.render(
                React.createElement(ChatBot),
                document.getElementById('chat')
            );

            // Ajouter une animation de pulsation apr√®s 30 secondes, en dehors du clic
            setTimeout(() => {
                chatButton.classList.add('pulse');
            }, 5000); // 5 secondes
        });
    </script>
    <div style="text-align: center; margin-top: 30px;"> <!-- Augment√© de 20px √† 30px -->
    <img src="./images/IMG_0784.jpeg" alt="Logo U FORNU" style="width: 200px; height: auto; display: inline-block; vertical-align: middle;">
    <span style="font-size: 12px; display: inline-block; vertical-align: middle;">¬©</span>
</div>
<style>
    /* Style pour le canevas de l'effet Matrix */
    #matrix-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 9999;
        display: none; /* Masqu√© jusqu'√† l'activation */
        pointer-events: none; /* Ne bloque pas l'interaction avec le site */
    }

    /* Fond noir persistant */
    #black-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: black;
        z-index: 9998;
        display: none;
        opacity: 0;
        transition: opacity 1.5s ease-in-out; /* Transition douce */
    }
</style>

<div id="black-overlay"></div>
<canvas id="matrix-bg"></canvas>

<script>
    // Configuration Matrix
    const canvas = document.getElementById('matrix-bg');
    const ctx = canvas.getContext('2d');
    let matrixEffectTriggered = false; // Flag pour √©viter la r√©p√©tition

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }

    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%^&*()';
    const charSize = 14;
    const columns = Math.floor(canvas.width / charSize);
    const drops = Array(columns).fill(1);

    function drawMatrix() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#0F0';
        ctx.font = `${charSize}px monospace`;

        for (let i = 0; i < drops.length; i++) {
            const text = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(text, i * charSize, drops[i] * charSize);

            if (drops[i] * charSize > canvas.height && Math.random() > 0.975) {
                drops[i] = 0;
            }
            drops[i]++;
        }
    }

    function triggerMatrixEffect() {
        document.getElementById('black-overlay').style.opacity = '1'; // Transition douce vers le noir total
        setTimeout(() => {
            canvas.style.display = 'block'; // Affiche le canevas Matrix
            setInterval(drawMatrix, 50); // D√©marre l'animation Matrix
        }, 1500); // Lance l'effet Matrix apr√®s 1,5 secondes
    }

    function simulateTransitionToBlack() {
        // Transition de la couleur de fond vers le noir
        document.body.style.transition = 'background-color 2s ease';
        document.body.style.backgroundColor = 'black'; // Passe le fond du site au noir

        alert("Are we in the Matrix?");

        // Une fois le message ferm√©, lancer la transition
        setTimeout(() => {
            document.getElementById('black-overlay').style.display = 'block';
            triggerMatrixEffect();
        }, 100); // D√©clenche la transition d√®s que le message est ferm√©
    }

    function checkForMatrixWords(input) {
        if (!matrixEffectTriggered && (input.toLowerCase().includes("matrix") || 
            input.toLowerCase().includes("matrice") || 
            input.toLowerCase().includes("simulation"))) {
            
            matrixEffectTriggered = true; // Emp√™che de relancer l'effet
            simulateTransitionToBlack();
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        const chatInput = document.getElementById('chat');

        if (chatInput) {
            chatInput.addEventListener('input', (e) => {
                checkForMatrixWords(e.target.value);
            });
        } else {
            console.error("L'√©l√©ment avec l'ID 'chat' n'a pas √©t√© trouv√©. V√©rifiez l'ID ou utilisez un s√©lecteur diff√©rent.");
        }
    });
</script>
</body>
</html>
