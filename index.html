<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U FORNU | Restaurant Traditionnel √† Calcatoggio</title>
    <meta name="description" content="D√©couvrez U FORNU d'Antony, restaurant traditionnel corse √† Calcatoggio. Sp√©cialit√©s corses, pizzas au feu de bois, produits locaux entre Ajaccio et Sagone.">
    <meta name="keywords" content="U Fornu, Restaurant Calcatoggio, Pizzeria Corse, Restaurant Corse, Sp√©cialit√©s corses, Pizza au feu de bois, Ajaccio, Sagone, Calcatoggio, meilleurs restaurants Corse, charcuterie corse">
    <link rel="canonical" href="http://ufornu-pizzeriacalcatoggio.com">
    <meta property="og:title" content="U FORNU | Restaurant Traditionnel √† Calcatoggio">
    <meta property="og:description" content="Sp√©cialit√©s corses et pizzas au feu de bois √† U FORNU, entre Ajaccio et Sagone. Produits locaux et ambiance conviviale.">
    <meta property="og:type" content="restaurant.restaurant">
    <meta property="og:url" content="http://ufornu-pizzeriacalcatoggio.com">
    <meta property="og:image" content="URL_DE_VOTRE_IMAGE"> <!-- Remplacez par l'URL de l'image de votre site -->
    <meta property="og:locale" content="fr_FR">
    <meta name="robots" content="index, follow">
    
    <!-- Lien vers React et ReactDOM -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>

    <style>
        :root {
            --color-wall: #f5e6c3;
            --color-shutter: #4a3428;
            --color-accent: #e63946;
            --color-text: #2b2b2b;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--color-wall);
            color: var(--color-text);
            line-height: 1.6;
        }
        
        .hero {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('/api/placeholder/1200/600');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 120px 20px;
        }
        
        .content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-left: 4px solid var(--color-accent);
        }
        
        h1, h2, h3 {
            color: var(--color-shutter);
        }
        
        .cta-button {
            display: inline-block;
            background: var(--color-accent);
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            text-decoration: none;
            margin-top: 20px;
            transition: background 0.3s;
        }
        
        .cta-button:hover {
            background: #c92834;
        }
        
        .chat-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--color-accent);
            color: white;
            padding: 15px;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 1000;
            font-size: 24px;
        }
        
        .chat-container {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: none;
            z-index: 1000;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            .chat-container {
                width: calc(100% - 40px);
                height: 60vh;
                bottom: 90px;
            }
        }

        .message-animation {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .suggestion-chip {
            display: inline-block;
            padding: 8px 16px;
            margin: 4px;
            background: #f0f0f0;
            border-radius: 20px;
            cursor: pointer;
            border: none;
            font-size: 14px;
            transition: all 0.2s;
        }

        .suggestion-chip:hover {
            background: #e0e0e0;
        }

        .chat-link {
            color: #0066cc;
            text-decoration: none;
        }

        .chat-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>U FORNU</h1>
        <h2>Restaurant Traditionnel Corse</h2>
        <a href="https://g.co/kgs/oGUEuZV" target="_blank" rel="noopener noreferrer" class="cta-button">R√©server une table</a>
    </div>

    <div class="content">
        <section class="section">
            <h2>Notre Restaurant √† Calcatoggio</h2>
            <p>Entre Ajaccio et Sagone, Antony vous accueille dans son restaurant U FORNU. D√©couvrez nos sp√©cialit√©s corses, nos pizzas au feu de bois et notre s√©lection de charcuterie locale.</p>
        </section>

        <div class="grid">
            <div class="card">
                <h3>üçï Pizzas au Feu de Bois</h3>
                <p>Des pizzas cuites dans notre four traditionnel, pr√©par√©es avec des produits locaux de qualit√©.</p>
            </div>
            <div class="card">
                <h3>ü•ì Charcuterie Corse</h3>
                <p>Une s√©lection des meilleures charcuteries corses artisanales de la r√©gion.</p>
            </div>
            <div class="card">
                <h3>üç∑ Vins et Liqueurs</h3>
                <p>Une carte des vins corses et nos liqueurs maison √† d√©couvrir.</p>
            </div>
        </div>

        <div id="chat-button" class="chat-button">üí¨</div>
        <div id="chat" class="chat-container"></div>
    </div>

    <script>
// Base de connaissances
const KnowledgeBase = {
    contact: {
        telephone: "+33621146462",
        horaires_appel: "√† partir de 17h",
        adresse: "Calcatoggio village",
        maps_url: "https://maps.app.goo.gl/QQiBsitH5hcmQViTA",
        reservation_url: "https://g.co/kgs/oGUEuZV"
    },
    horaires: {
        ouverture: "18h30",
        fermeture: "22h00",
        jours: "du mardi au dimanche",
        periode: "de fin mai au 11 novembre"
    }
};

// Fonction pour d√©tecter l'anglais
function isEnglish(text) {
    const englishWords = [
        'hello', 'hi', 'hey', 'good', 'morning', 'evening', 'night',
        'thanks', 'thank', 'you', 'please', 'want', 'would', 'like',
        'can', 'could', 'menu', 'pizza', 'book', 'booking', 'reserve',
        'reservation', 'where', 'what', 'when',
        // Fonction pour d√©tecter l'anglais (suite)
        'how', 'open', 'phone', 'call', 'find', 'address', 'time', 'price', 'much', 'the',
        'order', 'delivery', 'table', 'restaurant', 'eat', 'food', 'tonight', 'tomorrow', 
        'today', 'map', 'location', 'directions'
    ];

    const words = text.toLowerCase().split(/\s+/);
    const englishWordCount = words.filter(word => englishWords.includes(word)).length;
    return englishWordCount / words.length > 0.3;
}

// Fonction pour rendre les liens cliquables
function formatText(text) {
    // Rend les URLs cliquables
    text = text.replace(
        /(https?:\/\/[^\s]+)/g,
        '<a href="$1" target="_blank" class="chat-link">$1</a>'
    );
    
    // Rend les num√©ros de t√©l√©phone cliquables
    text = text.replace(
        /(\+\d{11})/g,
        '<a href="tel:$1" class="chat-link">$1</a>'
    );
    
    return text;
}

// Syst√®me de r√©ponses
const responses = {
    default: `Bonghjornu ! üåû Je suis l√† pour vous renseigner sur U FORNU. Comment puis-je vous aider ?

‚Ä¢ Voir notre carte de pizzas üçï
‚Ä¢ Horaires et localisation üìç
‚Ä¢ R√©servation et contact ‚òéÔ∏è
‚Ä¢ Nos produits locaux üè∫`,

    english_redirect: `Sorry, I'm not fluent in English to talk with you üôè

Please send a SMS to the chef Antony:
üì± ${KnowledgeBase.contact.telephone}

He will be happy to help you in English! üòä`,

    carte_pizzas: `üìã Voici nos pizzas pr√©par√©es par Antony :

BASE TOMATE :
‚Ä¢ Marguerite (tomate, fromage) - 9,50‚Ç¨
‚Ä¢ Jambon Fromage - 10,00‚Ç¨
‚Ä¢ Romaine (tomate, anchois, c√¢pres) - 10,00‚Ç¨
‚Ä¢ Napolitaine (tomate, anchois, c√¢pres, fromage) - 10,80‚Ç¨
‚Ä¢ Reine (tomate, jambon champignons, fromage) - 11,00‚Ç¨
‚Ä¢ Chorizo (tomate, chorizo, champignons, fromage) - 11,50‚Ç¨
‚Ä¢ Roi (tomate, jambon, champignons, ≈ìuf, fromage) - 11,50‚Ç¨
‚Ä¢ Compl√®te (tomate, jambon, champignons, anchois, ≈ìuf, fromage) - 11,80‚Ç¨
‚Ä¢ Italiana (tomate, pepperoni, champignons, fromage) - 12,00‚Ç¨
‚Ä¢ Corsica (tomate, jambon, champignons, ≈ìuf, figatellu, fromage) - 12,60‚Ç¨
‚Ä¢ Special Fornu (tomate, jambon de Parme, champignons, roquette, fromage) - 13,00‚Ç¨

BASE CR√àME FRA√éCHE :
‚Ä¢ Reine Blanche (cr√®me fra√Æche, jambon, champignons, fromage) - 11,50‚Ç¨
‚Ä¢ Dame Blanche (cr√®me fra√Æche, jambon, champignons, ≈ìuf, fromage) - 11,80‚Ç¨
‚Ä¢ Poulet Curry (cr√®me fra√Æche, poulet, champignons, fromage, curry) - 12,00‚Ç¨

üìû Pour commander : ${KnowledgeBase.contact.telephone} (${KnowledgeBase.contact.horaires_appel})`,

    localisation: `üìç O√π nous trouver :

‚Ä¢ Adresse : ${KnowledgeBase.contact.adresse}
‚Ä¢ Entre Ajaccio (25 min) et Sagone (10 min)
‚Ä¢ Google Maps : ${KnowledgeBase.contact.maps_url}

üöó Parking gratuit sur place
üìû En cas de difficult√© : ${KnowledgeBase.contact.telephone} (${KnowledgeBase.contact.horaires_appel})`,

    horaires: `‚è∞ Nos horaires :

‚Ä¢ Ouvert ${KnowledgeBase.horaires.jours}
‚Ä¢ Service : ${KnowledgeBase.horaires.ouverture} - ${KnowledgeBase.horaires.fermeture}
‚Ä¢ P√©riode : ${KnowledgeBase.horaires.periode}

üìû R√©servation conseill√©e : ${KnowledgeBase.contact.telephone}
üåê R√©servez en ligne : ${KnowledgeBase.contact.reservation_url}`,

    reservation: `Pour r√©server une table chez U FORNU :

üìû Appelez Antony au ${KnowledgeBase.contact.telephone} (${KnowledgeBase.contact.horaires_appel})
üåê Ou r√©servez via Google : ${KnowledgeBase.contact.reservation_url}

La r√©servation est conseill√©e, surtout en haute saison ! üòä`,

    contact_chef: `Pour parler directement avec Antony :

üìû ${KnowledgeBase.contact.telephone}
‚è∞ Disponible ${KnowledgeBase.contact.horaires_appel}

Il sera ravi de vous renseigner personnellement ! üë®‚Äçüç≥`,

    incomprehension: `D√©sol√©, je ne suis pas s√ªr de bien comprendre... ü§î

Je peux vous renseigner sur :
‚Ä¢ Nos pizzas et la carte
‚Ä¢ Les horaires
‚Ä¢ L'adresse et l'acc√®s
‚Ä¢ R√©servations et contact

Ou pr√©f√©rez-vous parler directement √† Antony ? üìû`,

    au_revoir: `Merci de votre int√©r√™t pour U FORNU ! üôè

Antony et son √©quipe seront ravis de vous accueillir.

√Ä dopu ! üëã`,

    inactivity_check: "Y a-t-il quelque chose d'autre que je puisse faire pour vous ? üòä"
};

// Fonction principale de r√©ponse
function getBotResponse(input) {
    input = input.toLowerCase().trim();

    // D√©tection de l'anglais
    if (isEnglish(input)) {
        return responses.english_redirect;
    }

    // Fin de conversation
    if (input.includes("non") || input.includes("rien") || input.includes("c'est tout") ||
        input.includes("merci") || input.includes("au revoir") || input.includes("a plus") || 
        input.includes("bye") || input.includes("√† dopu")) {
        return responses.au_revoir;
    }

    // Localisation et acc√®s
    if (input.includes("o√π") || input.includes("adresse") || input.includes("route") || 
        input.includes("plan") || input.includes("maps") || input.includes("venir") || 
        input.includes("trouve") || input.includes("acc√®s") || input.includes("lieu") ||
        input.includes("localisation") || input.includes("situ√©") || input.includes("direction")) {
        return responses.localisation;
    }

    // R√©servation
    if (input.includes("r√©serv") || input.includes("table") || input.includes("manger") || 
        input.includes("d√Æner") || input.includes("diner") || input.includes("ce soir")) {
        return responses.reservation;
    }

    // Carte et pizzas
    if (input.includes("carte") || input.includes("pizza") || input.includes("menu") || 
        input.includes("prix") || input.includes("manger")) {
        return responses.carte_pizzas;
    }

    // Horaires
    if (input.includes("horaire") || input.includes("ouvert") || input.includes("ferm√©") || 
        input.includes("heure") || input.includes("soir")) {
        return responses.horaires;
    }

    // Contact direct
    if (input.includes("chef") || input.includes("antony") || input.includes("t√©l√©phone") || 
        input.includes("appeler") || input.includes("contact")) {
        return responses.contact_chef;
    }

    // Si on ne comprend pas bien la demande
    return responses.incomprehension;
}

// Composant React du ChatBot
function ChatBot() {
    const [messages, setMessages] = React.useState([{
        text: responses.default,
        sender: 'bot'
    }]);
    const [input, setInput] = React.useState('');
    const messagesEndRef = React.useRef(null);

    const scrollToBottom = () => {
        messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
    };

    React.useEffect(() => {
        scrollToBottom();
    }, [messages]);

    const handleSubmit = (e) => {
        e.preventDefault();
        if (!input.trim()) return;

        const userMessage = input;
        setMessages(prev => [...prev, { text: userMessage, sender: 'user' }]);
        setInput('');

        setTimeout(() => {
            const botResponse = getBotResponse(userMessage);
            setMessages(prev => [...prev, { text: botResponse, sender: 'bot' }]);
        }, 1000);
    };

    return React.createElement('div', { 
        style: { height: '100%', display: 'flex', flexDirection: 'column' }
    },
        React.createElement('div', { 
            style: { 
                background: 'var(--color-shutter)',
                color: 'white',
                padding: '15px',
                textAlign: 'center',
                borderRadius: '15px 15px 0 0'
            }
        }, "üí¨ U FORNU - Questions & R√©servations"),

        React.createElement('div', { 
            style: { 
                flex: 1,
                overflow: 'auto',
                padding: '15px',
                background: '#f8f9fa'
            }
        },
            messages.map((msg, idx) => 
                React.createElement('div', { 
                    key: idx,
                    className: 'message-animation',
                    style: {
                        textAlign: msg.sender === 'user' ? 'right
                                                    : 'left',
                        margin: '8px'
                    }
                },
                React.createElement('span', {
                    dangerouslySetInnerHTML: { 
                        __html: msg.sender === 'bot' ? formatText(msg.text) : msg.text 
                    },
                    style: {
                        background: msg.sender === 'user' ? 'var(--color-accent)' : 'white',
                        color: msg.sender === 'user' ? 'white' : 'var(--color-text)',
                        padding: '10px 15px',
                        borderRadius: '20px',
                        display: 'inline-block',
                        maxWidth: '80%',
                        boxShadow: '0 2px 5px rgba(0,0,0,0.1)',
                        whiteSpace: 'pre-wrap'
                    }
                })
            )),
            React.createElement('div', { ref: messagesEndRef })
        ),

        React.createElement('form', { 
            onSubmit: handleSubmit,
            style: { 
                padding: '15px',
                background: 'white',
                borderTop: '1px solid #eee'
            }
        },
            React.createElement('div', { style: { display: 'flex', gap: '10px' } },
                React.createElement('input', {
                    value: input,
                    onChange: (e) => setInput(e.target.value),
                    placeholder: "Votre question...",
                    style: {
                        flex: 1,
                        padding: '10px',
                        borderRadius: '25px',
                        border: '1px solid #ddd',
                        outline: 'none'
                    }
                }),
                React.createElement('button', {
                    type: 'submit',
                    style: {
                        padding: '10px 20px',
                        borderRadius: '25px',
                        border: 'none',
                        background: 'var(--color-accent)',
                        color: 'white',
                        cursor: 'pointer'
                    }
                }, "Envoyer")
            )
        )
    );
}

// Initialisation du chat
document.addEventListener('DOMContentLoaded', () => {
    const chatButton = document.getElementById('chat-button');
    const chatContainer = document.getElementById('chat');
    let chatVisible = false;

    chatButton.addEventListener('click', () => {
        chatVisible = !chatVisible;
        chatContainer.style.display = chatVisible ? 'block' : 'none';
    });

    ReactDOM.render(
        React.createElement(ChatBot),
        document.getElementById('chat')
    );
});
</script>
</body>
</html>
